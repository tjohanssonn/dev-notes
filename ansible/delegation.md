# Delegation of tasks and facts

It's a little tricky to understand how delegation works in Ansible.

There's _delegation of tasks_, and _delegation of facts_.

_Delegation of tasks_ means that the task(s) run on another host, but in the _context_ of the currently running host. This means that all variables/facts remain for the running host. This includes new facts generated by a delegated task.

_Delegation of facts_ means that any facts generated by the delegated task is set in the context of the delegated host. It is _not_ set on the running host.

## Example

The following code snippet demonstrates a delegation, where `set_fact` is used to generate a new fact.

In the first code block, the fact is set on the current host.

```yaml
- name: Set fact on current running host
    local_action:
    module: set_fact
    my_var: "1"
# Or alternate syntax:
- name: Set fact on current running host
  set_fact:
    my_var: "1"
  delegate_to: localhost
```

In the second code block, the fact is set on the host that runs the delegated task (in this case `localhost`).

```yaml
- name: Set fact on 'localhost'
  set_fact:
    my_var: "1"
  delegate_to: localhost
  delegate_facts: true
```

An interesting way of utilising this is to use `localhost` as a "global" space to store variables.
